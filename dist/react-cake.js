!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-dom"],t):t(e["react-cake"]={},e.React,e.PropTypes,e.ReactDOM)}(this,function(e,t,n,r){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;o.length>r;r++)0>t.indexOf(n=o[r])&&(i[n]=e[n]);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;l.length>r;r++)0>t.indexOf(n=l[r])&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,"object"==typeof Reflect&&Reflect;var u=function(e){return function(t,n){var r,i=n.cast,o=void 0===i?parseInt:i,l=n.propName;return(r={})[l]=o(t[l])+o(e),r}},c=function(e,t){return ee(i({result:u(e.step)(e,t)},e,t))};function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return void 0!==e&&null!==e?e.apply(void 0,n):void 0}function f(){}function p(e){var t=e.value,n=e.lower,r=e.upper,i=e.outOfUpper,o=e.outOfLower,l=e.inBounds,a=e.cast,u=void 0===a?parseInt:a;return t=u(t),n=u(n),r=u(r),l=l||f,isNaN(t)?l():!isNaN(r)&&t>r?s(i):!isNaN(n)&&n>t?s(o):l()}function h(e,t){var n={},r={};if(1==(arguments.length>2?arguments.length-2:0))r=arguments.length>2?arguments[2]:void 0;else for(var i=0;(arguments.length>2?arguments.length-2:0)>i;i++)for(var o=Object.keys(2>i+2||i+2>=arguments.length?void 0:arguments[i+2]),l=0;o.length>l;l++)r[o[l]]=null;for(var a=Object.keys(t),u=0;a.length>u;u++){var c=a[u];!0===e(void 0===r[c])&&void 0!==t[c]&&(n[c]=t[c])}return n}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return h.apply(void 0,[function(e){return!1===e},e].concat(n))}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return h.apply(void 0,[function(e){return e},e].concat(n))}var b=function(e){return e.replace(/([A-Z]+)([a-z]+)?/g,"-$1$2").toLowerCase()},m=(window.cancelAnimationFrame||window.mozCancelAnimationFrame).bind(window),g=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame).bind(window),y=window&&window.performance?window.performance:Date;function w(e){m?m(e.value):window.clearTimeout(e)}function P(e,t){if(!g)return window.setTimeout(e,t);var n=y.now(),r={};return r.value=g(function i(){var o=y.now();t>o-n?r.value=g(i):e.call()}),r}function O(e){m?m(e.value):window.clearInterval(e)}function j(e,t){if(!g)return window.setInterval(e,t);var n=y.now(),r={};return r.value=g(function i(){var o=y.now();t>o-n||(e.call(),n=y.now()),r.value=g(i)}),r}function S(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function k(e,t,n,r){try{e(n(r))}catch(e){t(e)}}function V(e){return this.then(void 0,e)}function C(){return this._canceled=!0,this}var x,E,X=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=_,r=k,i=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._promise=new Promise(t),this._canceled=!1}return n(e,null,[{key:"all",value:function(t){return new e(function(e,n){Promise.all(t).then(e,n)})}},{key:"race",value:function(t){return new e(function(e,n){Promise.race(t).then(e,n)})}},{key:"reject",value:function(t){return new e(function(e,n){Promise.reject(t).then(e,n)})}},{key:"resolve",value:function(t){return new e(function(e,n){Promise.resolve(t).then(e,n)})}}]),n(e,[{key:"then",value:function(t,n){var i=this,o=new e(function(e,l){i._promise.then(function(n){i._canceled&&o.cancel(),t&&!i._canceled?r(e,l,t,n):e(n)},function(t){i._canceled&&o.cancel(),n&&!i._canceled?r(e,l,n,t):l(t)})});return o}},{key:"catch",value:V},{key:"cancel",value:C}]),e}();t.default=i}(x={exports:{}},x.exports),(E=x.exports)&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E);function Y(e){return new X(function(t,n){!0===e.complete||e.naturalHeight>0?t({target:e}):(e.onload=t,e.onerror=n)})}function N(e){return e()}function T(e){return e([])}function A(e){return e&&"string"!=typeof e&&"number"!=typeof e?e.displayName?e.displayName:e.name?e.name:e.constructor?e.constructor.displayName||"Unknown":e.type&&e.type.displayName||"Unknown":"Unknown"}function R(e,t){return e+"("+A(t)+")"}function z(e,n,r){if(null===e)return null;var o=typeof e,l=e&&e.prototype,a=l&&l.isReactComponent;if("function"===o&&!a)return void 0!==r&&((n=Object.isFrozen(n)?i({},n):n).children=r),e(n);var u=a||"string"===o;return void 0!==r?u?t.createElement(e,n,r):t.cloneElement(e,n,r):u?t.createElement(e,n):t.cloneElement(e,n)}function M(){var e=this.props;return z(e.children,i({},l(e,["children"]),this.context))}function W(e){var n,r;return r=n=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.render=M,t}(t.Component),Object.defineProperty(n,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:e.childContextTypes}),Object.defineProperty(n,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:R("withContextFrom",e)}),r}var I=0;function B(e){var t,n=function(){if(void 0===t){for(var n=arguments.length,r=Array(n),i=0;n>i;i++)r[i]=arguments[i];t=g((o=this,l=r,function(){t=void 0,e.apply(o,l)}))}var o,l};return n.cancel=function(){void 0!==t&&m(t)},n}function H(e){var t,n=e.length-1;return function(r){var i=r.children,o=function(){var n=e[t],r=i;i=function(e){return z(n,e,r)}};for(t=n;t>-1;t--)o();return i(r)}}function F(e,t,n,r){var i,o=null==(i=r)||"function"!=typeof i&&"object"!=typeof i?r:n(r);if(!t.has(o)){var l=e.call(this,r);return t.set(o,l),l}return t.get(o)}function D(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r);if(!t.has(i)){var o=e.apply(this,r);return t.set(i,o),o}return t.get(i)}function U(e,t,n,r,i){return n.bind(t,e,r,i)}function L(){return JSON.stringify(arguments)}function K(){this.cache=Object.create(null)}K.prototype.has=function(e){return e in this.cache},K.prototype.get=function(e){return this.cache[e]},K.prototype.set=function(e,t){this.cache[e]=t};var q={create:function(){return new K}},J=function(e,t){return(t&&t.strategy?t.strategy:function(e,t){return U(e,this,1===e.length?F:D,t.cache.create(),t.serializer)})(e,{cache:t&&t.cache?t.cache:q,serializer:t&&t.serializer?t.serializer:L})};J.strategies={variadic:function(e,t){return U(e,this,D,t.cache.create(),t.serializer)},monadic:function(e,t){return U(e,this,F,t.cache.create(),t.serializer)}};var G={get:A,concat:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];var i=n.join("-");return G.get(e)+"-"+i}},$={get:function(e){return t=G.get(e),b(t).replace(/^-+/g,"");var t},concat:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];var i=n.join("-");return $.get(e)+"-"+i},el:function(e,t){return $.get(e)+"__"+t},mod:function(e,t){return $.get(e)+"--"+t},append:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];var i=n.join(" ");return($.get(e)+" "+i).trim()},enable:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return t?$.append.apply($,[e].concat(r)):$.get(e)}},Q={unique:J(function(){return(I+=1)+""}),get:function(e){return G.concat(e,Q.unique(e))},concat:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return n.push(Q.unique(e)),G.concat.apply(G,[e].concat(n))}},Z=Object.freeze({name:G,classes:$,id:Q}),ee=function(e){var t,n,r=e.result,o=e.step,l=e.maxValue,a=e.minValue,u=e.onBoundMax,f=e.onBoundMin,h=e.propName,v=e.cast,d=((t={})[h]=r[h],t.step=0,t),b={maxValue:l,minValue:a,onBoundMax:u,onBoundMin:f,propName:h},m=function(e){return i({},d,{step:null===e||void 0===e?o:e})},g=((n={})[h]=r[h],n.step=o,n.minValue=a,n.maxValue=l,n.setValue=function(e){var t;return c(i({},d,((t={})[h]=e,t)),b)},n.incr=function(e){return c(m(e),b)},n.decr=function(e){return te(m(e),b)},n);return p({value:r[h],lower:a,upper:l,outOfUpper:function(){return s(u,g)},outOfLower:function(){return s(f,g)},inBounds:function(){return r},cast:v})},te=function(e,t){return ee(i({result:(n=e.step,function(e,t){var r,i=t.cast,o=void 0===i?parseInt:i,l=t.propName;return(r={})[l]=o(e[l])-o(n),r})(e,t)},e,t));var n},ne=function(e,t,n,r,i,o,l,a){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,l,a],s=0;(u=Error(t.replace(/%s/g,function(){return c[s++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},re=function(e){return ne("string"==typeof e,"Child component must be a string")},ie=function(e,t){ne(e.includes(t),"List "+JSON.stringify(e)+" does not contain value: "+JSON.stringify(t))},oe=function(e,t){return ne(void 0===t||null===t||e.length===t,"Prop '"+JSON.stringify(e)+"' must contain exactly '"+t+"' elements.")};function le(){var e=this.props,t=e.children,n=l(e,["children","propName","minValue","maxValue","onBoundMin","onBoundMax","initialValue","initialStep","onChange","onIncr","onDecr","cast"]);return z(t,i({incr:this.incr,decr:this.decr,setValue:this.setValue,setStep:this.setStep},this.state,n))}var ae=function(e){function t(t){var n,r;r=e.call(this,t)||this,ue.call(a(r));var i=r.props,o=i.initialStep,l=i.cast;return r.state=((n={})[i.propName]=l(i.initialValue),n.step=l(o),n),r}return o(t,e),t.prototype.render=le,t}(t.PureComponent);Object.defineProperty(ae,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{initialValue:0,initialStep:1,propName:"value",cast:parseInt}});var ue=function(){var e=this;Object.defineProperty(this,"_callChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=e.state[e.props.propName];s(e.props.onChange,n),s(t,n)}}),Object.defineProperty(this,"boundWith",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n,r){return e.setState(function(e,r){var o=e.step,a=l(e,["step"]);return t(i({},a,{step:isNaN(parseInt(n))?o:n}),r)},function(){return e._callChange(r)})}}),Object.defineProperty(this,"incr",{configurable:!0,enumerable:!0,writable:!0,value:function(t){return e.boundWith(c,t,e.props.onIncr)}}),Object.defineProperty(this,"decr",{configurable:!0,enumerable:!0,writable:!0,value:function(t){return e.boundWith(te,t,e.props.onDecr)}}),Object.defineProperty(this,"setValue",{configurable:!0,enumerable:!0,writable:!0,value:function(t){return e.setState(function(e,n){var r;return c(((r={})[n.propName]=t,r.step=0,r),n)},e._callChange)}}),Object.defineProperty(this,"setStep",{configurable:!0,enumerable:!0,writable:!0,value:function(t){return e.setState({step:parseInt(t)})}})},ce=function(e,t){return function(n,r){return ve(i({result:(o=e,l=t,function(){return{x:o,y:l}})()},n,r));var o,l}},se=function(e){return function(t,n){return ve(i({result:(r=e,function(){return{y:r}})()},t,n));var r}},fe=function(e,t){return function(n,r){return ve(i({result:(o=e,l=t,function(e){return Object.assign(u(o)(e,{propName:"x"}),u(l)(e,{propName:"y"}))})(n)},n,r));var o,l}},pe=function(e){return function(t,n){return ve(i({result:(r=e,function(e){return u(r)(e,{propName:"x"})})(t)},t,n));var r}},he=function(e){return function(t,n){return ve(i({result:(r=e,function(e){return u(r)(e,{propName:"y"})})(t)},t,n));var r}},ve=function(e){var t=e.result,n=e.x,r=e.y,i=e.minX,o=e.maxX,a=e.minY,u=e.maxY,c=l(e,["result","x","y","minX","maxX","minY","maxY"]),f=[];"x"in t&&f.push("x"),"y"in t&&f.push("y");for(var h={},v=function(e){var l,f={minX:i,maxX:o,minY:a,maxY:u,onBoundMinX:c.onBoundMinX,onBoundMaxX:c.onBoundMaxX,onBoundMinY:c.onBoundMinY,onBoundMaxY:c.onBoundMaxY},v=((l={})[e]=t[e],l.minX=i,l.maxX=o,l.minY=a,l.maxY=u,l.set=function(e,t){return ce(e,t)({x:n,y:r},f)},l.setX=function(e){return de(e)({x:n},f)},l.setY=function(e){return se(e)({y:r},f)},l.move=function(e,t){return fe(e,t)({x:n,y:r},f)},l.moveX=function(e){return pe(e)({x:n,y:r},f)},l.moveY=function(e){return he(e)({x:n,y:r},f)},l),d=e.toUpperCase();h[e]=p({value:t[e],lower:f["min"+d],upper:f["max"+d],outOfUpper:function(){return s(c["onBoundMax"+d],v)},outOfLower:function(){return s(c["onBoundMin"+d],v)},inBounds:function(){return t[e]}}),void 0!==h[e]&&null!==h[e]||delete h[e]},d=0;f.length>d;d++)v(f[d]);return h},de=function(e){return function(t,n){return ve(i({result:(r=e,function(){return{x:r}})()},t,n));var r}};function be(e){this.setState(e,this.handleChange)}function me(){var e=this.props,t=e.children,n=l(e,["children","initialX","initialY","minX","maxX","minY","maxY","onBoundMinX","onBoundMaxX","onBoundMinY","onBoundMaxY","onChange"]);return z(t,i({setXY:this.setXY,setX:this.setX,setY:this.setY,moveXY:this.moveXY,moveX:this.moveX,moveY:this.moveY},n,this.state))}var ge=function(e){function t(t){var n;return n=e.call(this,t)||this,Object.defineProperty(a(n),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(){return s(n.props.onChange,n.state)}}),Object.defineProperty(a(n),"setXY",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return n._set(ce(e,t))}}),Object.defineProperty(a(n),"setX",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return n._set(de(e))}}),Object.defineProperty(a(n),"setY",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return n._set(se(e))}}),Object.defineProperty(a(n),"moveXY",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return n._set(fe(e,t))}}),Object.defineProperty(a(n),"moveX",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return n._set(pe(e))}}),Object.defineProperty(a(n),"moveY",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return n._set(he(e))}}),n.state={x:t.initialX,y:t.initialY},n}o(t,e);var n=t.prototype;return n._set=be,n.render=me,t}(t.PureComponent);Object.defineProperty(ge,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{initialX:0,initialY:0}});var ye={getAspect:n.func,getViewportSize:n.func,getViewportScroll:n.func,inView:n.func,inViewX:n.func,inViewY:n.func,inFullView:n.func,inFullViewX:n.func,inFullViewY:n.func,subscribe:n.func,unsubscribe:n.func};function we(){var e=this.subscribe,t=this.unsubscribe,n=this.notify,r=this.props;return z(r.children,i({},l(r,["children"]),{subscribe:e,unsubscribe:t,notify:n}))}var Pe=function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,Oe.call(a(n)),t||a(n)}return o(t,e),t.prototype.render=we,t}(t.PureComponent),Oe=function(){var e=this;Object.defineProperty(this,"subscriptions",{configurable:!0,enumerable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"subscribe",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.subscriptions.add(t)}}),Object.defineProperty(this,"unsubscribe",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.subscriptions.delete(t)}}),Object.defineProperty(this,"notify",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=Array.isArray(r=e.subscriptions),n=0,r=t?r:r[Symbol.iterator]();;){var i;if(t){if(n>=r.length)break;i=r[n++]}else{if((n=r.next()).done)break;i=n.value}i.apply(void 0,arguments)}}})},je=function(e){var t=e.width,n=e.height;return{orientation:t>n?"landscape":t===n?"square":"portrait"}};function Se(){var e=this;null!==this._image&&Y(this._image).then(function(t){var n=t.target,r=n.width,o=n.height,l=n.naturalWidth,a=n.naturalHeight;e.setState(i({},je({width:l,height:a}),{width:r,height:o,naturalWidth:l,naturalHeight:a,complete:!0}))})}function _e(){var e=this.props,t=e.children,n=l(e,["children"]);return z(t,i({},this.state,{imageRef:this.imageRef},n))}var ke=function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,Object.defineProperty(a(n),"_image",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{orientation:"square",width:0,height:0,naturalWidth:0,naturalHeight:0,complete:!1}}),Object.defineProperty(a(n),"imageRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){(e!==n._image||e&&n._image&&e.src!==n._image.src)&&(n._image=e,n.setStats())}}),t||a(n)}o(t,e);var n=t.prototype;return n.setStats=Se,n.render=_e,t}(t.PureComponent),Ve="undefined"!=typeof window&&window,Ce="undefined"!=typeof document&&document,xe=Ce&&Ce.documentElement||Ce&&Ce.body,Ee=Ve&&Ve.screen;function Xe(){this.removeAllEvents()}function Ye(){var e=this.props,t=e.children,n=l(e,["children"]);return z(t,i({addEvent:this.addEvent,removeEvent:this.removeEvent,removeAllEvents:this.removeAllEvents},n))}var Ne=function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,Object.defineProperty(a(n),"events",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a(n),"addEvent",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,r){n.events.push([e,t,r]),e.addEventListener(t,r)}}),Object.defineProperty(a(n),"removeEvent",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,r){e.removeEventListener(t,r);for(var i=0;n.events.length>i;i++){var o=n.events[i];e===o[0]&&t===o[1]&&r===o[2]&&n.events.splice(i,1)}}}),Object.defineProperty(a(n),"removeAllEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=Array.isArray(i=n.events),r=0,i=t?i:i[Symbol.iterator]();;){var o,l;if(t){if(r>=i.length)break;o=i[r++]}else{if((r=i.next()).done)break;o=r.value}e&&o[0]!==e||(l=n).removeEvent.apply(l,o)}}}),t||a(n)}o(t,e);var n=t.prototype;return n.componentWillUnmount=Xe,n.render=Ye,t}(t.PureComponent);function Te(e,t){if((e=e&&!e.nodeType?e[0]:e)&&1===e.nodeType){var n=e.getBoundingClientRect(),r=n.top,i=n.right,o=n.bottom,l=n.left,a=n.width,u=n.height;return(t="object"==typeof t?t:t?{top:t,right:t,bottom:t,left:t}:{top:0,right:0,bottom:0,left:0}).top=t.top||0,t.right=t.right||0,t.bottom=t.bottom||0,t.left=t.left||0,{top:t.top+r,right:t.right+i,bottom:t.bottom+o,left:t.left+l,width:t.left+t.right+a,height:t.top+t.bottom+u}}}var Ae=function(){var e=Le(),t=e.width,n=e.height;return{top:0,right:t,bottom:n,left:0,width:t,height:n}},Re=function(e,t,n){return[Te(e,n),t===Ve?Ae():Te(t)]},ze=function(e,t){return void 0!==(r=(n=Re(e,Ve,t))[0])&&r.right>0&&n[1].width>r.left;var n,r},Me=function(e,t){return void 0!==(r=(n=Re(e,Ve,t))[0])&&r.bottom>0&&n[1].height>r.top;var n,r},We=function(e,t){return i=(n=Re(e,Ve,t))[1],void 0!==(r=n[0])&&r.bottom>0&&i.height>r.top&&r.right>0&&i.width>r.left;var n,r,i},Ie=function(e,t){return i=(n=Re(e,Ve,t))[1],void 0!==(r=n[0])&&void 0!==i&&i.width-r.width>=0&&r.left>=i.left&&i.right>=r.right;var n,r,i},Be=function(e,t){return i=(n=Re(e,Ve,t))[1],void 0!==(r=n[0])&&void 0!==i&&i.height-r.height>=0&&r.top>=i.top&&i.bottom>=r.bottom;var n,r,i},He=function(e,t){return i=(n=Re(e,Ve,t))[1],void 0!==(r=n[0])&&void 0!==i&&!(0>i.width-r.width||0>i.height-r.height||i.left>r.left||r.right>i.right||i.top>r.top||r.bottom>i.bottom);var n,r,i},Fe=function(){return function(e){if(void 0!==(e=e===Ve?Ae():Te(e)))return e.width/e.height}(Ve)},De=function(){return xe.clientHeight},Ue=function(){return xe.clientWidth},Le=function(){return{width:Ue(),height:De()}};function Ke(){return{viewportWidth:Ue(),viewportHeight:De()}}function qe(){this.setSize.cancel()}function Je(){var e=this.props,t=e.children,n=l(e,["children","addEvent","removeEvent","removeAllEvents"]);return z(t,i({getAspect:Fe,getViewportSize:this.getViewportSize},this.state,n))}var Ge=H([Ne,function(e){function t(t){var n;n=e.call(this,t)||this,Object.defineProperty(a(n),"_listeners",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(a(n),"setSize",{configurable:!0,enumerable:!0,writable:!0,value:B(function(){return n.setState(Ke())})}),Object.defineProperty(a(n),"getViewportSize",{configurable:!0,enumerable:!0,writable:!0,value:Le});var r=t.addEvent;return r(Ve,"resize",n.setSize),r(Ve,"orientationchange",n.setSize),n.state=Ke(),n}o(t,e);var n=t.prototype;return n.componentWillUnmount=qe,n.render=Je,t}(t.PureComponent)]),$e=Ee&&Ee.orientation&&Ee.orientation.type,Qe=function(){return $e?Ee.orientation.type:null};function Ze(e){var t=e._viewportOrientationChildren,n=e.viewportWidth,r=e.viewportHeight,o=l(e,["_viewportOrientationChildren","viewportWidth","viewportHeight"]);return z(t,i({viewportWidth:n,viewportHeight:r},je({width:n,height:r}),{screenOrientation:Qe()},o))}function et(e){var t=e.children,n=l(e,["children"]);return Ge(i({_viewportOrientationChildren:t,children:Ze},n))}function tt(){return{scrollX:void 0!==Ve.scrollX?Ve.scrollX:Ve.pageXOffset,scrollY:void 0!==Ve.scrollY?Ve.scrollY:Ve.pageYOffset}}function nt(){this.setScroll.cancel()}function rt(){var e=this.props,t=e.children,n=e.withCoords,r=l(e,["children","withCoords","addEvent","removeEvent","removeAllEvents"]);return z(t,i({scrollTo:Ve.scrollTo,inView:We,inViewX:ze,inViewY:Me,inFullViewX:Ie,inFullViewY:Be,inFullView:He,getViewportScroll:this.getViewportScroll},!0===n?this.state:{},r))}var it=function(e){function t(t){var n;return n=e.call(this,t)||this,Object.defineProperty(a(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{scrollX:0,scrollY:0}}),Object.defineProperty(a(n),"setScroll",{configurable:!0,enumerable:!0,writable:!0,value:B(function(){return n.setState(tt())})}),Object.defineProperty(a(n),"getViewportScroll",{configurable:!0,enumerable:!0,writable:!0,value:tt}),t.addEvent(Ve,"scroll",n.setScroll),n}o(t,e);var n=t.prototype;return n.componentWillUnmount=nt,n.render=rt,t}(t.PureComponent);Object.defineProperty(it,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{withCoords:!0}});var ot=H([Ne,it]),lt=["viewportWidth","viewportHeight","scrollX","scrollY","scroll"];function at(){return v(this.props,["getAspect","inView","inViewX","inViewY","inFullView","inFullViewX","inFullViewY","getViewportSize","getViewportScroll","subscribe","unsubscribe"])}function ut(e){var t=this.props.notify;for(var n in e)if(lt.includes(n)&&e[n]!==this.props[n]){t(v(this.props,lt));break}}function ct(){var e=this.props;return z(e.children,l(e,["children","subscriptions","notify","scrollX","scrollY"]))}var st=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.getChildContext=at,n.componentDidUpdate=ut,n.render=ct,t}(t.PureComponent);Object.defineProperty(st,"childContextTypes",{configurable:!0,enumerable:!0,writable:!0,value:ye});var ft=H([Pe,et,ot,st]),pt=W(st),ht=H([pt,function(e){var t=e.inFullView,n=e.children,r=l(e,["inFullView","children"]);return void 0===t?ft(i({children:n},d(r,ye))):z(n,i({inFullView:t},r))}]);function vt(){this.props.unsubscribe(this.update)}function dt(){this.props.unsubscribe(this.setSize)}function bt(){var e=this.props,t=e.children,n=e.style,r=l(e,["children","style"]);return z(t,i({style:Object.assign({},n||{},this.state)},r))}var mt=H([ht,function(e){function t(t){var n;n=e.call(this,t)||this,Object.defineProperty(a(n),"setSize",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.viewportWidth,r=e.viewportHeight;return l(e,["viewportWidth","viewportHeight"]),n.setState({width:t,height:r})}});var r=t.subscribe;return n.state=(0,t.getViewportSize)(),r(n.setSize),n}o(t,e);var n=t.prototype;return n.componentWillUnmount=dt,n.render=bt,t}(t.PureComponent)]);function gt(){null===this.props.entry()&&this.forceUpdate()}function yt(){var e=this.props,t=e.children,n=e.entry;return null===n()?null:r.createPortal(t,n())}var wt=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.componentDidMount=gt,n.render=yt,t}(t.PureComponent);Object.defineProperty(wt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{entry:function(){return document.getElementById("injections")}}});var Pt=function(e,t){return void 0===t&&(t=2),e.replace(e._multiBreakRe,"\n".repeat(t)).trim()},Ot=/(\n)/g;function jt(e,n){return e.match(Ot)?t.createElement("br",{key:n}):e}function St(e){return e}function _t(e){return e?(e=Pt(e)).split(Ot).map(jt).filter(St):e}var kt=/(\n{2})/g;function Vt(e,n){return e?(re(e),n=void 0===n||null===n?{}:n,Pt(e).split(kt).map(function(e,r){if(!e.match(kt)&&(n.key=r,(e=_t(e)).length))return t.createElement("p",n,e)})):e}var Ct=function(e,t){var n,r,i=t.controls,o=t.propName,l=i[0].value;return l!==e[o]?((n={})[o]=l,n):((r={})[o]=i[i.length-1].value,r)};function xt(e){return e.value}function Et(e){return e.name}function Xt(e){var t;this.props.initialValue!==e.initialValue&&this.setState(((t={})[e.propName]=this.props.initialValue,t))}function Yt(){for(var e=this.props,t=e.children,n=l(e,["children","propName","controls","initialValue","onChange"]),r=this.toggle,o=Array.isArray(u=this.controlNames),a=0,u=o?u:u[Symbol.iterator]();;){var c;if(o){if(a>=u.length)break;c=u[a++]}else{if((a=u.next()).done)break;c=a.value}n[c]=this[c]}return z(t,i({toggle:r},this.state,n))}var Nt=function(e){function t(t){var n,r;function i(){return s(r.props.onChange,r.state[r.props.propName])}r=e.call(this,t)||this,Object.defineProperty(a(r),"toggle",{configurable:!0,enumerable:!0,writable:!0,value:function(){return r.setState(Ct,i)}});var o=t.controls,l=t.initialValue,u=t.propName;return oe(o,2),r.controlValues=o.map(xt),r.controlNames=o.map(Et),ie(r.controlValues,l),r.state=((n={})[u]=l,n),r.controlNames.forEach(function(e,t){return r[e]=function(){var e,n=r.controlValues[t];r.setState(((e={})[u]=n,e),function(){return s(r.props.onChange,n)})}}),r}o(t,e);var n=t.prototype;return n.componentDidUpdate=Xt,n.render=Yt,t}(t.PureComponent);Object.defineProperty(Nt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{propName:"value",controls:[{name:"on",value:!0},{name:"off",value:!1}],initialValue:!0}});var Tt=!("ontouchstart"in window);function At(){this._timeout&&w(this._timeout)}function Rt(e,t){Tt&&(this._timeout&&w(this._timeout),t?this._timeout=P(e,t):e())}function zt(){var e=this.props,t=e.children,n=l(e,["children","propName","on","off","addEvent","removeEvent","removeAllEvents"]);return z(t,i({hoverableRef:this.hoverableRef},n))}var Mt=H([Ne,Nt,function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,Object.defineProperty(a(n),"_hoverable",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"_timeout",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"hoverableRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){null!==n._hoverable&&n.props.removeAllEvents(),null!==e&&(n._hoverable=e,n.props.addEvent(n._hoverable,"mouseenter",n.onEnter),n.props.addEvent(n._hoverable,"mouseleave",n.onLeave))}}),Object.defineProperty(a(n),"onEnter",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.props;n.control(e.on,e.enterDelay)}}),Object.defineProperty(a(n),"onLeave",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.props;n.control(e.off,e.leaveDelay)}}),t||a(n)}o(t,e);var n=t.prototype;return n.componentWillUnmount=At,n.control=Rt,n.render=zt,t}(t.PureComponent)]),Wt=function e(t,n){for(var r=Array.isArray(o=n),i=0,o=r?o:o[Symbol.iterator]();;){var l;if(r){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var a=l,u=a.split("|");if(u.length>1){for(var c=!0,s=Array.isArray(p=u),f=0,p=s?p:p[Symbol.iterator]();;){var h;if(s){if(f>=p.length)break;h=p[f++]}else{if((f=p.next()).done)break;h=f.value}if(!0===e(t,[h])){c=!0;break}c=!1}if(!1===c)return!1}else for(var v=a.split("+"),d=Array.isArray(m=v),b=0,m=d?m:m[Symbol.iterator]();;){var g;if(d){if(b>=m.length)break;g=m[b++]}else{if((b=m.next()).done)break;g=b.value}var y=g.split("="),w=y[0],P=y[1];if(void 0!==P){if(t[w]+""!==P)return!1}else if(!1===t[w])return!1}}return!0};function It(e){this.setupClickTypes(e)}var Bt=function(e){function t(t){var n;return n=e.call(this,t)||this,Object.defineProperty(a(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{numClicks:null,screenX:null,screenY:null,clientX:null,clientY:null,elementX:null,elementY:null,rectX:null,rectY:null}}),Object.defineProperty(a(n),"_clickable",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"_clickTypes",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a(n),"clickableRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n._clickable!==e;null!==n._clickable&&t&&n.props.removeAllEvents(n._clickable),t&&(n._clickable=e,n.props.addEvent(e,"click",n.onClick))}}),Object.defineProperty(a(n),"onClick",{configurable:!0,enumerable:!0,writable:!0,value:function(e){if(!1!==Wt(e,n._clickTypes)){var t=e.detail,r=e.screenX,i=e.screenY,o=e.clientX,l=e.clientY,a=n.props.preventDefault,u=n._clickable.getBoundingClientRect(),c=u.top,f=Math.floor(u.left),p=Math.floor(c);a&&e.preventDefault(),n.setState({numClicks:t,screenX:r,screenY:i,clientX:o,clientY:l,elementX:o-f,elementY:l-p,rectX:f,rectY:p},function(){return s(n.props.onClick,n.state,e)})}}}),n.setupClickTypes(t),n}o(t,e);var n=t.prototype;return n.setupClickTypes=function(e){this._clickTypes=[];var n=e.clickTypes;if(n)for(var r=Array.isArray(o=n),i=0,o=r?o:o[Symbol.iterator]();;){var l;if(r){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}this._clickTypes.push(l)}for(var a in e)a in t.clickTypes&&this._clickTypes.push(t.clickTypes[a])},n.componentWillUpdate=It,n.render=function(){var e=this.props,n=e.children,r=l(e,["children","clickTypes","onClick","preventDefault","addEvent","removeEvent","removeAllEvents"]);return r=d(r,t.clickTypes),z(n,i({clickableRef:this.clickableRef},l(this.state,["rectX","rectY"]),r))},t}(t.PureComponent);Object.defineProperty(Bt,"clickTypes",{configurable:!0,enumerable:!0,writable:!0,value:{single:"detail=1",double:"detail=2",triple:"detail=3",left:"button=0",middle:"button=1",shift:"shiftKey",control:"ctrlKey",meta:"metaKey",alt:"altKey",altMeta:"metaKey+altKey",altShift:"altKey+shiftKey",controlAlt:"ctrlKey+altKey",controlShift:"ctrlKey+shiftKey",controlMeta:"ctrlKey+metaKey",metaShift:"metaKey+shiftKey",controlOrMeta:"metaKey|ctrlKey"}});var Ht=H([Ne,Bt]),Ft=H([ge,function(e){var t=e.children,n=e.style,r=e.x,o=e.y,a=e.z,u=l(e,["children","style","x","y","z"]),c=n&&n.transform?n.transform.split(" "):[];return c.push("translate3d("+r+"px, "+o+"px, "+(a||0)+")"),z(t,i({style:n=i({},n,{MozTransform:c=c.join(" "),MsTransform:c,WebkitTransform:c,transform:c}),x:r,y:o},u))}]);function Dt(){var e=this.props,t=e.initialX,n=e.initialY;(t||n)&&this.scrollTo(t,n)}function Ut(){this._cancelThrottles()}function Lt(){this.onScroll.cancel(),this.scrollTo.cancel()}function Kt(){var e=this.props,t=e.children,n=l(e,["children","onScroll","addEvent","removeEvent","removeAllEvents"]);return z(t,i({scrollableRef:this.scrollableRef,scrollToX:this.scrollToX,scrollToY:this.scrollToY,scrollTo:this.scrollTo},this.state,n))}var qt=H([Ne,function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];function l(){return s(n.props.onScroll,n.state)}return t=n=e.call.apply(e,[this].concat(i))||this,Object.defineProperty(a(n),"_scrollable",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{scrollHeight:0,scrollWidth:0,scrollY:0,scrollX:0,clientHeight:0,clientWidth:0,scrollYProgress:0,scrollXProgress:0,scrollYMax:0,scrollXMax:0,directionX:null,directionY:null,distanceX:0,distanceY:0}}),Object.defineProperty(a(n),"scrollableRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){if(null!==e){var t=n._scrollable!==e;null!==n._scrollable&&t&&(n._cancelThrottles(),n.props.removeAllEvents(n._scrollable)),t&&(n._scrollable=e,n.props.addEvent(e,"scroll",n.onScroll))}}}),Object.defineProperty(a(n),"onScroll",{configurable:!0,enumerable:!0,writable:!0,value:B(function(e){var t=n._scrollable,r=t.scrollHeight,i=t.scrollWidth,o=t.scrollTop,a=t.scrollLeft,u=t.clientHeight,c=t.clientWidth,s=i-c,f=r-u,p=a/s,h=o/f;n.setState(function(e){return{scrollHeight:r,scrollWidth:i,scrollY:o,scrollX:a,clientHeight:u,clientWidth:c,scrollYProgress:h,scrollXProgress:p,scrollYMax:f,scrollXMax:s,directionY:(e.scrollY||0)>o?"up":e.scrollY===o?null:"down",directionX:(e.scrollX||0)>a?"left":e.scrollX===a?null:"right",distanceY:o-e.scrollY,distanceX:a-e.scrollX}},l)})}),Object.defineProperty(a(n),"scrollTo",{configurable:!0,enumerable:!0,writable:!0,value:B(function(e,t){void 0!==t&&null!==e&&(n._scrollable.scrollTop=t),void 0!==e&&null!==t&&(n._scrollable.scrollLeft=e)})}),Object.defineProperty(a(n),"scrollToX",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return n.scrollTo(e,null,t)}}),Object.defineProperty(a(n),"scrollToY",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return n.scrollTo(null,e,t)}}),t||a(n)}o(t,e);var n=t.prototype;return n.componentDidMount=Dt,n.componentWillUnmount=Ut,n._cancelThrottles=Lt,n.render=Kt,t}(t.PureComponent)]),Jt=["scrollPosition","contents","transform","opacity","contents","width","height","top","right","bottom","left","zIndex","background","backgroundColor","backgroundPosition","backgroundSize","boxShadow","margin","padding","fontWeight","fontSize","textShadow","color","visibility","all"],Gt={whenTouched:"touchstart",whenTouchEnds:"touchend",whenTouchMoves:"touchmove",whenMouseMoves:"mousemove",whenClicked:"mousedown",whenHovered:"mouseenter",whenMouseEnters:"mouseenter",whenMouseLeaves:"mouseleave",whenScrolled:"scroll",whenResized:"resize",whenFocused:"focus",whenBlurred:"blur",whenDragged:"dragstart",whenDropped:"drop"};function $t(e){this._changeEvents=[],this._changeHints=[];for(var t in e){Gt.hasOwnProperty(t)&&this._changeEvents.push(Gt[t]);var n=Jt.indexOf(t);n>-1&&this._changeHints.push(b(Jt[n]))}0===this._changeHints.length&&this._changeHints.push("all")}function Qt(e){this.setupHints(e)}function Zt(){this.clearStaleTimeout()}function en(){null!==this._staleTimeout&&(clearTimeout(this._staleTimeout),this._staleTimeout=null)}function tn(){var e=this.props,t=e.children,n=e.propName,r=e.style,o=l(e,["children","propName","style","properties","eventTypes","on","off","toggle","staleTimeout","addEvent","removeEvent","removeAllEvents"]);return z(t,i({},o=d(o,Jt,Gt),{willChangeRef:this.willChangeRef,willChange:this.willChange,style:r=Object.assign(r||{},!0===this.props[n]?{willChange:this._changeHints.join(",")}:{})}))}var nn=function(e){function t(t){var n;function r(){return n._started=!0}function i(){return n._started=!0}function o(){return n.off(!0)}return n=e.call(this,t)||this,Object.defineProperty(a(n),"_willChange",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a(n),"_changeHints",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a(n),"_changeEvents",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a(n),"_staleTimeout",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"_started",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(a(n),"willChangeRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){if(null!==e&&!1===n._willChange.includes(e)){n._willChange.push(e);for(var t=Array.isArray(l=n._changeEvents),o=0,l=t?l:l[Symbol.iterator]();;){var a;if(t){if(o>=l.length)break;a=l[o++]}else{if((o=l.next()).done)break;a=o.value}n.props.addEvent(e,a,n.on)}n.props.addEvent(e,"animationstart",r),n.props.addEvent(e,"transitionstart",i),n.props.addEvent(e,"animationend",n.off),n.props.addEvent(e,"transitionend",n.off)}}}),Object.defineProperty(a(n),"willChange",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.on(!0)}}),Object.defineProperty(a(n),"on",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.props,r=t.staleTimeout;n.props[t.propName]||((0,t.on)(),e&&(n._started=!0),r&&(n._staleTimeout=setTimeout(o,r)))}}),Object.defineProperty(a(n),"off",{configurable:!0,enumerable:!0,writable:!0,value:function(e){void 0===e&&(e=!1),(!e||e&&n._started)&&(n.props.off(),n.clearStaleTimeout(),n._started=!1)}}),n.setupHints(t),n}o(t,e);var n=t.prototype;return n.setupHints=$t,n.componentWillUpdate=Qt,n.componentWillUnmount=Zt,n.clearStaleTimeout=en,n.render=tn,t}(t.PureComponent);Object.defineProperty(nn,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{propName:"willChangeIsOn",staleTimeout:1e3}});var rn=H([Ne,Nt,nn]),on=function(e,t){return new Promise(function(n){return e.setState(t,n)})};function ln(){var e=this.props;return z(e.children,i({setValue:this.setValue,resetValue:this.resetValue,clearValue:this.clearValue},l(e,["children","propName"]),this.state))}var an=function(e){function t(t){var n,r;return r=e.call(this,t)||this,Object.defineProperty(a(r),"setValue",{configurable:!0,enumerable:!0,writable:!0,value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return""+e},t}(function(e){var t;return on(a(r),((t={})[r.props.propName]=e,t))})}),Object.defineProperty(a(r),"resetValue",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e;return on(a(r),((e={})[r.props.propName]=r.props.initialValue,e))}}),Object.defineProperty(a(r),"clearValue",{configurable:!0,enumerable:!0,writable:!0,value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return""+e},t}(function(){var e;return on(a(r),((e={})[r.props.propName]=value&&value.clear&&"function"==typeof value.clear?value.clear():void 0,e))})}),r.state=((n={})[t.propName]=t.initialValue,n),r}return o(t,e),t.prototype.render=ln,t}(t.PureComponent);function un(){this.throttleState.cancel()}function cn(){var e=this.props,t=e.children,n=l(e,["children","initialState"]);return z(t,i({throttleState:this.throttleState},this.state,n))}Object.defineProperty(an,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{propName:"value"}});var sn=function(e){function t(t){var n;return n=e.call(this,t)||this,Object.defineProperty(a(n),"_setState",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e;return(e=n).setState.apply(e,arguments)}}),n.state=t.initialState||{},n.throttleState=B(n._setState),n}o(t,e);var n=t.prototype;return n.componentWillUnmount=un,n.render=cn,t}(t.PureComponent);function fn(){this.props.recalcOnWindowChange&&(this.props.addEvent(window,"resize",this.recalcRect),this.props.addEvent(window,"scroll",this.recalcRect),this.props.addEvent(window,"orientationchange",this.recalcRect))}function pn(){var e=this.props,t=e.children,n=e.withPosition,r=l(e,["children","withPosition","addEvent","removeEvent","removeAllEvents","recalcOnWindowChange","throttleState"]);return z(t,i({rectRef:this.rectRef,recalcRect:this.recalcRect,getRect:this.getRect},r,n?this.state:{}))}var hn=function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,Object.defineProperty(a(n),"element",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{top:null,right:null,bottom:null,left:null,width:null,height:null}}),Object.defineProperty(a(n),"_listeners",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(a(n),"rectRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){null!==e&&e!==n.element&&(n.element=e,n.recalcRect())}}),Object.defineProperty(a(n),"recalcRect",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.props.throttleState(n.getRect())}}),Object.defineProperty(a(n),"getRect",{configurable:!0,enumerable:!0,writable:!0,value:function(){return Te(n.element)}}),t||a(n)}o(t,e);var n=t.prototype;return n.componentDidMount=fn,n.render=pn,t}(t.PureComponent);Object.defineProperty(hn,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{recalcOnWindowChange:!0}});var vn=H([Ne,sn,hn]);function dn(){this.shouldComponentStick(this.props),this.injectPlaceholder(this.props)}function bn(){this.injectPlaceholder(this.props),this.ejectPlaceholder(this.props)}function mn(){this.props.unsubscribe(this.subscriptionCallback),this.ejectPlaceholder({isStuck:!1})}function gn(e){if(e.isStuck){var t=this.placeholderEl,n=this.element,r=this.parentNode;!1===r.contains(t)&&r.insertBefore(t,n)}}function yn(){var e=this.props,t=e.children,n=e.getRect,r=e.isStuck,o=e.style,a=e.zIndex,u=l(e,["children","getRect","isStuck","style","zIndex"]);u=d(u,["getAspect","getViewportScroll","getViewportSize","inFullView","inFullViewX","inFullViewY","inView","inViewX","inViewY","letGo","placeholder","recalcOnWindowChange","recalcRect","rectRef","stick","subscribe","toggle","unsubscribe"]);var c=this.stickyRef,s=n()||{};return z(t,i({isStuck:r,stickyRef:c,style:r&&i({position:"fixed",top:0,left:s.left,right:s.right,zIndex:a},o)},u))}var wn=function(e){function t(t){var n;return n=e.call(this,t)||this,Object.defineProperty(a(n),"subscriptionCallback",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"parentNode",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"element",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"placeholderEl",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"stickyRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){if(null!==e&&e!==n.element){var t=n.props,r=t.rectRef,i=t.isStuck,o=t.placeholder;n.element=e,n.parentNode=e.parentNode,r(e),i||(n.placeholderEl=o(e))}}}),Object.defineProperty(a(n),"shouldComponentStick",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.stick,r=e.distance,i=e.isStuck,o=e.letGo,l=e.atTop,a=e.atBottom,u=e.placeholder,c=(0,e.getRect)();if(null!==c){var s=l?"top":a?"bottom":"top";if(i||c[s]>0||!(!r||r&&Math.abs(c[s])<r)){var f=n.placeholderEl&&Te(n.placeholderEl);if(!f)return;var p=f[s];(p>0||r&&Math.abs(p)>r)&&o()}else n.placeholderEl=u(n.element),t()}}}),Object.defineProperty(a(n),"ejectPlaceholder",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.placeholderEl&&!e.isStuck&&n.parentNode.contains(n.placeholderEl)&&n.parentNode.removeChild(n.placeholderEl)}}),n.subscriptionCallback=function(){return n.shouldComponentStick(n.props)},t.subscribe(n.subscriptionCallback),n}o(t,e);var n=t.prototype;return n.componentDidMount=dn,n.componentDidUpdate=bn,n.componentWillUnmount=mn,n.injectPlaceholder=gn,n.render=yn,t}(t.PureComponent);Object.defineProperty(wn,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{placeholder:function(e){if(!e)return null;var t=e.cloneNode(!0);return t.style.opacity=0,t},zIndex:2}});var Pn=[{name:"stick",value:!0},{name:"letGo",value:!1}],On=H([ht,vn,Nt,wn]);function jn(){this.recalcListener=j(this.recalcSize,this.props.wait)}function Sn(e,t){t.width===this.state.width&&t.height===this.state.height||s(this.props.onChange,this.state)}function _n(){O(this.recalcListener)}function kn(){var e=this.props,t=e.children,n=l(e,["children","useBoundingRect","wait"]);return z(t,i({sizeRef:this.sizeRef,recalcSize:this.recalcSize},this.state,n))}var Vn=function(e){function t(){for(var t,n,r=arguments.length,i=Array(r),o=0;r>o;o++)i[o]=arguments[o];function l(e){var t,r,i=e.width,o=e.height;if(n.props.useBoundingRect){var l=l(n.element);t=l.width,r=l.height}else t=n.element.offsetWidth,r=n.element.offsetHeight;return t!==i||r!==o?{width:t,height:r}:null}return t=n=e.call.apply(e,[this].concat(i))||this,Object.defineProperty(a(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{width:0,height:0}}),Object.defineProperty(a(n),"recalcSize",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.setState(l)}}),Object.defineProperty(a(n),"element",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(a(n),"sizeRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return n.element=e}}),t||a(n)}o(t,e);var n=t.prototype;return n.componentDidMount=jn,n.componentDidUpdate=Sn,n.componentWillUnmount=_n,n.render=kn,t}(t.PureComponent);Object.defineProperty(Vn,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{wait:1e3/60}});var Cn=!("ontouchstart"in window);function xn(e){if(null!==e)for(var t in this.events)this.props.addEvent(e,t,this.events[t])}function En(){this.onMove.cancel()}function Xn(){var e=this.props,t=e.children,n=l(e,["children","propName","addEvent","removeEvent","removeAllEvents"]);return z(t,i({mousePositionRef:this.mousePositionRef},this.state,n))}function Yn(){var e=this.props,t=e.leaveDelay;return{mouseenter:this.delay(this.onEnter,e.enterDelay),mousemove:this.onMove,mouseleave:this.delay(this.onLeave,t)}}var Nn=function(e){function t(t){var n,r;return r=e.call(this,t)||this,Tn.call(a(r)),r.state=((n={clientX:null,clientY:null,elementX:null,elementY:null})[t.propName]=!1,n),r}o(t,e);var n,r=t.prototype;return r.addListeners=xn,r.componentWillUnmount=En,r.render=Xn,(n=[{key:"events",get:Yn}])&&function(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}(t.PureComponent);Object.defineProperty(Nn,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{propName:"isOver"}});var Tn=function(){var e=this;Object.defineProperty(this,"element",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"timeout",{configurable:!0,enumerable:!0,writable:!0,value:null}),Object.defineProperty(this,"entered",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(this,"mousePositionRef",{configurable:!0,enumerable:!0,writable:!0,value:function(t){null!==e.element&&e.props.removeAllEvents(e.element),null!==t&&(e.element=t,e.addListeners(e.element))}}),Object.defineProperty(this,"delay",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n){return function(r){Cn&&(e.timeout&&w(e.timeout),n?e.timeout=P(function(){return t(r)},n):t(r))}}}),Object.defineProperty(this,"onMove",{configurable:!0,enumerable:!0,writable:!0,value:B(function(t){var n;if(!1!==Cn&&!1!==e.entered){var r=t.pageX,i=t.pageY;e.setState(((n={pageX:r,pageY:i,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY,elementX:r-e.element.offsetLeft,elementY:i-e.element.offsetTop,elementWidth:e.element.offsetWidth,elementHeight:e.element.offsetHeight})[e.props.propName]=!0,n),function(){return s(e.props.onMove,e.state,t)})}})}),Object.defineProperty(this,"onEnter",{configurable:!0,enumerable:!0,writable:!0,value:function(t){e.entered=!0,e.onMove(t)}}),Object.defineProperty(this,"onLeave",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n;if(!1!==Cn){var r=e.props.propName;e.entered=!1,e.setState(((n={pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementX:null,elementY:null})[r]=!1,n),function(){return s(e.props.onLeave,e.state,t)})}}})},An=H([Ne,Nn]);e.Counter=ae,e.Point=ge,e.Viewport=ft,e.ImageStat=ke,e.Inject=wt,e.Paragraphs=function(e){var t=e.children,n=e.text,r=l(e,["children","text"]);return t?z(t,{paragraphs:Vt(n,r)}):t},e.Subscriptions=Pe,e.Toggle=Nt,e.Hoverable=function(e){return Mt(i({initialValue:!1},e))},e.Clickable=Ht,e.Movable=function(e){var t=e.onMove,n=l(e,["onMove"]);return Ft(i({onChange:t},n))},e.Scrollable=qt,e.WillChange=function(e){return rn(i({initialValue:!1,propName:"willChangeIsOn"},e))},e.Value=an,e.Rect=vn,e.Sticky=function(e){var t=e.sticky,n=void 0!==t&&t,r=l(e,["sticky"]);return On(i({propName:"isStuck",initialValue:n,controls:Pn},r))},e.Throttle=sn,e.SizeObserver=Vn,e.MousePosition=An,e.ViewportFill=mt,e.ViewportOrientation=et,e.ViewportSize=Ge,e.ViewportScroll=ot,e.ViewportQueries=function(e){var t=e.children,n=l(e,["children"]);return z(t,i({getAspect:Fe,inViewportX:ze,inViewportY:Me,inViewport:We,inFullViewX:Ie,inFullViewY:Be,inFullView:He},n))},e.WithViewport=ht,e.withViewport=function(e){function n(){return z(e,i({},this.state,this.props))}return H([ht,function(e){function t(t){var n;return n=e.call(this,t)||this,Object.defineProperty(a(n),"_getVw",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.props.getViewportSize();return{viewportWidth:e.width,viewportHeight:e.height}}}),Object.defineProperty(a(n),"update",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.setState(n._getVw)}}),t.subscribe(n.update),n.state=n._getVw(),n}o(t,e);var r=t.prototype;return r.componentWillUnmount=vt,r.render=n,t}(t.PureComponent)])},e.ViewportContext=pt,e.toBreaks=_t,e.toParagraphs=Vt,e.compose=H,e.callIfExists=s,e.createOptimized=z,e.debounce=function(e,t,n){var r,i,o,l,a,u,c=0,s=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,o=i;return r=i=void 0,c=t,l=e.apply(o,n)}function v(e){var n=e-u;return void 0===u||n>=t||0>n||f&&e-c>=o}function d(){var e,n,r=Date.now();if(v(r))return b(r);void 0!==a&&w(a),a=P(d,(n=t-((e=r)-u),f?Math.min(n,o-(e-c)):n))}function b(e){return a=void 0,p&&r?h(e):(r=i=void 0,l)}function m(){for(var e,n=Date.now(),o=v(n),p=arguments.length,b=Array(p),m=0;p>m;m++)b[m]=arguments[m];if(r=b,i=this,u=n,o){if(void 0===a)return c=e=u,void 0!==a&&w(a),a=P(d,t),s?h(e):l;if(f)return void 0!==a&&w(a),a=P(d,t),h(u)}return void 0===a&&(a=P(d,t)),l}return t=+t||0,"object"==typeof n&&(s=!!n.leading,o=(f="maxWait"in n)?Math.max(+n.maxWait||0,t):o,p="trailing"in n?!!n.trailing:p),m.cancel=function(){void 0!==a&&w(a),c=0,r=u=i=a=void 0},m.flush=function(){return void 0===a?l:b(Date.now())},m.pending=function(){return void 0!==a},m},e.displayName=A,e.wrapDisplayName=R,e.loadImages=function(e){if(!e)return new X(N);var t=e.getElementsByTagName("img");if(null===t||0===t.length)return new X(T);for(var n=[],r=0;t.length>r;r++)n.push(Y(t[r]));return X.all(n)},e.namespace=Z,e.reduceProps=d,e.selectProps=v,e.requestInterval=j,e.clearRequestInterval=O,e.requestTimeout=P,e.clearRequestTimeout=w,e.throttle=B,e.withContextFrom=W,e.childIsFunctionInvariant=function(e){return ne("function"==typeof e,"Child component must be a function or unmounted React.Component")},e.childIsStringInvariant=re,e.maxSizeInvariant=function(e,t){return ne(void 0===t||null===t||e.size>=t,"Prop '"+JSON.stringify(e)+"' exceeded maximum size: "+size)},e.minSizeInvariant=function(e,t){return ne(void 0===t||null===t||e.size>=t,"Prop '"+JSON.stringify(e)+"' failed to meet minimum size: "+t)},e.exactSizeInvariant=function(e,t){return ne(void 0===t||null===t||e.size===t,"Prop '"+JSON.stringify(e)+"' must contain exactly '"+t+"' elements.")},e.includesInvariant=ie,e.duplicateInvariant=function(e,t){ne(!e.includes(t),"List "+JSON.stringify(e)+" already contains value: "+JSON.stringify(t))},e.exactLengthInvariant=oe,Object.defineProperty(e,"__esModule",{value:!0})});
